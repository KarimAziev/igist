#+AUTHOR: Karim Aziiev
#+EMAIL: karim.aziiev@gmail.com

* igist

List, create, update and delete GitHub gists in Emacs.


[[./igists-demo.gif]]

** Overview
The Emacs everywhere goal continues. These are the main features of
~igist~ to help you never leave Emacs to do manage your gists.

     - [X] List gists
     - [X] Use auth-sources
     - [X] Create a gist
     - [X] Update a gist
     - [X] Delete a gist
     - [X] Fork a gist
     - [ ] Star a gist
     - [X] Comments
       - [X] Create a comment
       - [X] List comments
       - [X] Delete a comment
       - [X] Edit a comment

** Requirements

+ Emacs >= 28.1
+ ghub
+ transient
+ timezone
+ spinner (optional)
+ [[https://magit.vc/manual/forge/Token-Creation.html#Token-Creation][Github API token]]

** Installation

*** Manually

Download the repository and it to your load path in your init file:

#+begin_src elisp :eval no

(add-to-list 'load-path "/path/to/igist)

(require 'igist)

#+end_src

*** With use-package and straight

#+begin_src elisp :eval no

(use-package igist
  :straight (igist
             :repo "KarimAziev/igist"
             :type git
             :host github)
  :commands (igist-list-mode)
  :bind (("M-o" . igist-dispatch)
         (:map igist-edit-buffer-map
               ("C-c C-c" . igist-save-current-gist-and-exit)
               ("C-c C-k" . kill-current-buffer)
               ("C-c '" . igist-save-current-gist))
         (:map igist-list-menu-mode-map
               ("RET" . igist-list-fetch-current)
               ("+" . igist-list-add-file)
               ("g" . igist-list-gists))))

#+end_src

** Auth
You need to ensure that you have [[https://github.com/settings/tokens][a GitHub API token]] with scope ~gist~.

For example, your GitHub username is =km=, and you have a token "012345abcdef...". Add such an entry in ~auth-sources~ (~M-x describe-variable~ ~RET~ and type ~auth-sources~, usually it is =~/.authinfo= or =~/.authinfo.gpg=). 

#+begin_example
machine api.github.com login km^gist password 012345abcdef
#+end_example

You can read more in [[https://magit.vc/manual/forge/Token-Creation.html#Token-Creation][ghub]] manual as igist relies on the provided API.

** Usage

*** ~M-x igist-dispatch~
Invoke a transient popup with the list of available commands.
